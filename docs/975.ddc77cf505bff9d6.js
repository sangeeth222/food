"use strict";(self.webpackChunkmyproject=self.webpackChunkmyproject||[]).push([[975],{4975:(q,g,c)=>{c.r(g),c.d(g,{AdminModule:()=>D});var u=c(6814),l=c(3085),t=c(9468),m=c(5319);function d(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"a",16),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.login())}),t._uU(1,"\u{1d647}\u{1d64a}\u{1d642}\u{1d644}\u{1d649}"),t.qZA()}}function f(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.logout())}),t._uU(1," \u{1d40b}\u{1d40e}\u{1d406} \u{1d40e}\u{1d414}\u{1d413}"),t.qZA()}}let p=(()=>{class r{constructor(e,o){this.route=e,this.api=o,this.nonveg=[],this.categoryitem=[],this.items=["Item 1","Item 2","Item 3","Item 4","Item 5"],this.searchTerm="",this.filteredItems=[],this.filteredItems=this.items}ngOnInit(){this.getall();let e=localStorage.getItem("res");if(e){let o=JSON.parse(e);this.userName=o.userName}}food(){this.route.navigate(["food"])}login(){this.route.navigate(["login"])}home(){this.route.navigate([""])}cart(){this.route.navigate(["cart"])}gets(){this.route.navigate(["food"])}upload(){this.route.navigate(["nav","upload"])}update(){this.route.navigate(["nav","update"])}categorys(){this.route.navigate(["nav","categorys"])}getall(){this.api.get("/category/getall").subscribe(e=>{console.log(e),this.categoryitem=e})}logout(){localStorage.removeItem("res"),this.userName=null,this.route.navigate(["login"])}filterItems(){this.filteredItems=this.items.filter(e=>e.toLowerCase().includes(this.searchTerm.toLowerCase()))}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(l.F0),t.Y36(m.s))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-nav"]],decls:28,vars:3,consts:[[1,"navbar","navbar-light","bg-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","../assets/c1.jpg","height","100px",1,"rounded-circle"],[1,"navbar-brand","colour","ms-3"],[1,"nav","align-middle","ms-5"],[1,"nav-item"],["class","nav-link style   ",3,"click",4,"ngIf"],[1,"out","me-5","mt-2"],["class","btn btn-outline-success ms-3",3,"click",4,"ngIf"],[1,"row","btn-outline-success"],[1,"row","align-items-start"],[1,"col"],[1,"col","bg-dark","text-white","w-25","p-3"],[1,"nav-link","style","ms-2","mt-2","btn-outline-primary",3,"click"],[1,"custom-btn","btn-7",2,"margin-left","640%"],[1,"nav-link","style",3,"click"],[1,"btn","btn-outline-success","ms-3",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),t._UZ(3,"img",3),t.TgZ(4,"a",4),t._uU(5,"\u{1d439}\u{1d4aa}\u{1d4aa}\u{1d49f}\u{1d43c}\u{1d438}\u{1d4ae} \u{1d4b2}\u{1d4aa}\u{1d445}\u{1d43f}\u{1d49f}"),t.qZA()(),t.TgZ(6,"ul",5)(7,"li",6),t.YNc(8,d,2,0,"a",7),t.TgZ(9,"p",8),t._uU(10),t.YNc(11,f,2,0,"button",9),t.qZA()()()(),t._UZ(12,"div",10),t.qZA(),t.TgZ(13,"div",1)(14,"div",11)(15,"div",12)(16,"div",13)(17,"a",14),t.NdJ("click",function(){return n.upload()}),t._uU(18," upload"),t.qZA(),t.TgZ(19,"div")(20,"a",14),t.NdJ("click",function(){return n.update()}),t._uU(21," update"),t.qZA()(),t.TgZ(22,"div")(23,"a",14),t.NdJ("click",function(){return n.categorys()}),t._uU(24," categorys"),t.qZA()()()()(),t.TgZ(25,"button",15)(26,"span"),t._uU(27,"Back"),t.qZA()()()),2&o&&(t.xp6(8),t.Q6J("ngIf",!n.userName),t.xp6(2),t.hij("",n.userName," "),t.xp6(1),t.Q6J("ngIf",n.userName))},dependencies:[u.O5],styles:[".colour[_ngcontent-%COMP%]{color:#ea2323;font-size:45px;text-shadow:2px 2px 4px #000000}.style[_ngcontent-%COMP%]{color:#23c7f0;font-size:25px}.out[_ngcontent-%COMP%]{font-family:Times New Roman,Times,serif;font-size:30px;color:#8b008b}"]})}return r})();var h=c(3767),i=c(95);function _(r,a){if(1&r&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&r){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.categoryName)}}function b(r,a){if(1&r&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&r){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.subCategoryName)}}function y(r,a){if(1&r&&(t.TgZ(0,"div",24),t._UZ(1,"img",25),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.selectedImageSrc,t.LSH)}}function C(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"form",4)(1,"div",5)(2,"label",6),t._uU(3,"Product Name:"),t.qZA(),t._UZ(4,"input",7),t.qZA(),t.TgZ(5,"div",5)(6,"label",8),t._uU(7,"Category Name:"),t.qZA(),t.TgZ(8,"select",9),t.NdJ("change",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.updateSelectedCategory(n))}),t.TgZ(9,"option",10),t._uU(10,"Select Category"),t.qZA(),t.YNc(11,_,2,2,"option",11),t.qZA()(),t.TgZ(12,"div",5)(13,"label",12),t._uU(14,"Subcategory Name:"),t.qZA(),t.TgZ(15,"select",13)(16,"option",10),t._uU(17,"Select SubCategory"),t.qZA(),t.YNc(18,b,2,2,"option",11),t.qZA()(),t.TgZ(19,"div",5)(20,"label",14),t._uU(21,"Price:"),t.qZA(),t._UZ(22,"input",15),t.qZA(),t.TgZ(23,"div",5)(24,"label",16),t._uU(25,"Quantity:"),t.qZA(),t._UZ(26,"input",17),t.qZA(),t.TgZ(27,"div",5)(28,"label",18),t._uU(29,"Image:"),t.qZA(),t.TgZ(30,"input",19),t.NdJ("change",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.onFileChange(n))}),t.qZA()(),t.YNc(31,y,2,1,"div",20),t.TgZ(32,"div",21)(33,"button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.register())}),t._uU(34,"Upload"),t.qZA()()()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.formgroup),t.xp6(11),t.Q6J("ngForOf",e.categoryitem),t.xp6(7),t.Q6J("ngForOf",e.subcategories),t.xp6(13),t.Q6J("ngIf",e.selectedImageSrc)}}function Z(r,a){if(1&r&&(t.TgZ(0,"div")(1,"div",9),t._UZ(2,"input",10),t.qZA()()),2&r){const e=a.index;t.xp6(1),t.Q6J("formGroupName",e)}}function N(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.submit())}),t.TgZ(1,"div",2)(2,"label",3),t._uU(3,"Category Name:"),t.qZA(),t._UZ(4,"input",4),t.qZA(),t.TgZ(5,"div",5),t.YNc(6,Z,3,1,"div",6),t.qZA(),t.TgZ(7,"button",7),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addSubcategory())}),t._uU(8,"Add Subcategory"),t.qZA(),t.TgZ(9,"button",8),t._uU(10,"Upload"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.formgroup),t.xp6(6),t.Q6J("ngForOf",e.subcategory.controls)}}const I=[{path:"",component:p},{path:"nav",component:p},{path:"login",component:h.G},{path:"upload",component:(()=>{class r{constructor(e,o,n){this.fb=e,this.apiService=o,this.router=n,this.categoryitem=[],this.subcategories=[],this.formType="products",this.selectedImageSrc=null}ngOnInit(){this.getCategories(),this.initializeForm()}initializeForm(){this.formgroup=this.fb.group({ProductName:["",i.kI.required],CategoryId:["",i.kI.required],SubCategoryId:["",i.kI.required],Price:["",i.kI.required],Quantity:["",i.kI.required],image:[null,i.kI.required]})}register(){if(this.formgroup&&this.formgroup.valid){const e=new FormData;e.append("productName",this.formgroup.get("ProductName")?.value),e.append("categoryIdStr",this.formgroup.get("CategoryId")?.value),e.append("subcategoryIdStr",this.formgroup.get("SubCategoryId")?.value),e.append("price",this.formgroup.get("Price")?.value),e.append("quantity",this.formgroup.get("Quantity")?.value),e.append("image",this.formgroup.get("image")?.value),"products"===this.formType&&this.apiService.postProduct(e).subscribe(o=>{console.log("Form data uploaded successfully:",o),this.router.navigate(["nav"])},o=>{console.error("Error uploading form data:",o),o.error&&console.error("Error Response:",o.error)})}}getCategories(){this.apiService.get("/category/getall").subscribe(e=>{this.categoryitem=e,console.log(e)})}onFileChange(e){const o=e.target.files[0];if(o&&this.formgroup){this.formgroup.get("image")?.setValue(o);const n=new FileReader;n.onload=s=>{this.selectedImageSrc=s.target.result},n.readAsDataURL(o)}}updateSelectedCategory(e){const o=parseInt(e.target.value);this.selectedCategory=this.categoryitem.find(n=>n.id===o),this.subcategories=this.selectedCategory?this.selectedCategory.subcategory:[]}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(i.qu),t.Y36(m.s),t.Y36(l.F0))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-upload"]],decls:5,vars:1,consts:[[1,"container","d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"card","p-4","shadow-lg","custom-form-card"],[1,"text-center","mb-4"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","mb-3"],["for","ProductName",1,"form-label"],["type","text","id","ProductName","placeholder","Product Name","formControlName","ProductName","required","",1,"form-control"],["for","CategoryId",1,"form-label"],["id","CategoryId","formControlName","CategoryId","required","",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","SubCategoryId",1,"form-label"],["id","SubCategoryId","formControlName","SubCategoryId","required","",1,"form-control"],["for","Price",1,"form-label"],["type","text","id","Price","placeholder","Enter the Price","formControlName","Price","required","",1,"form-control"],["for","Quantity",1,"form-label"],["type","text","id","Quantity","placeholder","Enter the Quantity","formControlName","Quantity","required","",1,"form-control"],["for","Image",1,"form-label"],["type","file","id","Image","required","",1,"form-control",3,"change"],["class","mb-3",4,"ngIf"],[1,"d-grid"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value"],[1,"mb-3"],["alt","Selected Image","height","100px","width","100px",1,"img-thumbnail",3,"src"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Product Registration"),t.qZA(),t.YNc(4,C,35,4,"form",3),t.qZA()()),2&o&&(t.xp6(4),t.Q6J("ngIf",n.formgroup))},dependencies:[u.sg,u.O5,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.Q7,i.sg,i.u],styles:[".center[_ngcontent-%COMP%]{text-align:center}.mt-4[_ngcontent-%COMP%]{margin-top:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:#fff;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control-file[_ngcontent-%COMP%]{width:100%;padding:.375rem .75rem;margin-top:.125rem;font-size:1rem;line-height:1.5;color:#fff;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.img-thumbnail[_ngcontent-%COMP%]{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem;max-width:100%;height:auto}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#00f;border-color:#112132}.btn-primary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#04070b;border-color:#070d13}.form-control[_ngcontent-%COMP%]{width:400px;min-height:45px;color:#fff;outline:none;transition:.35s;padding:0 7px;background-color:#373937;border-radius:6px;border:2px solid #212121;box-shadow:6px 6px 10px #000,1px 1px 10px #0b9cb599}button[_ngcontent-%COMP%]{width:100px;min-height:45px;color:#fff;background-color:#373937;border-radius:6px;border:2px solid white}label[_ngcontent-%COMP%]{color:#000;font-weight:700}[_ngcontent-%COMP%]::placeholder{color:#fff}.input[_ngcontent-%COMP%]:focus.input::placeholder{transition:.3s;opacity:0;color:#fff}.end[_ngcontent-%COMP%]{position:absolute;left:60%}"]})}return r})()},{path:"update",component:(()=>{class r{static#t=this.\u0275fac=function(o){return new(o||r)};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-update"]],decls:2,vars:0,template:function(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"update works!"),t.qZA())}})}return r})()},{path:"categorys",component:(()=>{class r{constructor(e,o){this.formBuilder=e,this.http=o}ngOnInit(){this.formgroup=this.formBuilder.group({categoryName:["",i.kI.required],subcategory:this.formBuilder.array([this.createSubcategory()])})}createSubcategory(){return this.formBuilder.group({subCategoryName:["",i.kI.required]})}get subcategory(){return this.formgroup.get("subcategory")}addSubcategory(){this.subcategory.push(this.createSubcategory())}submit(){this.formgroup.valid&&this.post(this.formgroup.value)}post(e){console.log(e),this.http.postCategory("category/save",e).subscribe(o=>{console.log(o)},o=>{404===o.status?console.error("Error 404: Resource not found. Please check your server configuration."):console.error("An error occurred:",o.error)})}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(i.qu),t.Y36(m.s))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-categorys"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","CategoryName"],["type","text","id","CategoryName","placeholder","Enter Category Name","formControlName","categoryName",1,"form-control"],["formArrayName","subcategory"],[4,"ngFor","ngForOf"],["type","button",3,"click"],["type","submit",1,"btn","btn-primary","ms-3"],[3,"formGroupName"],["formControlName","subCategoryName","placeholder","Subcategory Name"]],template:function(o,n){1&o&&t.YNc(0,N,11,2,"form",0),2&o&&t.Q6J("ngIf",n.formgroup)},dependencies:[u.sg,u.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,i.x0,i.CE]})}return r})()}];let A=(()=>{class r{static#t=this.\u0275fac=function(o){return new(o||r)};static#e=this.\u0275mod=t.oAB({type:r});static#o=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(I),l.Bz]})}return r})(),D=(()=>{class r{static#t=this.\u0275fac=function(o){return new(o||r)};static#e=this.\u0275mod=t.oAB({type:r});static#o=this.\u0275inj=t.cJS({imports:[u.ez,A,i.UX]})}return r})()}}]);